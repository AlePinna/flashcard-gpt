<!DOCTYPE html>
    <head>
        <title>FlashcardGPT</title>
    </head>
    <body style="background-color:#74A12E">
        <h1>FlashcardGPT</h1>
        Prompt<br>
        <textarea id="prompt" rows="2" cols="50"></textarea>
        <br><br>
        <button onclick="getAnswer()">OK</button>
        <br><br>
        Answer<br>       
        <textarea id="answer" rows="8" cols="50"></textarea>
    </body>
    <script>
        const url = "http://localhost:3001/api/answers"

        const getAnswer = () => {
            let input = document.querySelector("#prompt").value
            if (!input) return
            let request = new XMLHttpRequest()
            request.open('POST', url)
            request.setRequestHeader("Content-Type", "application/json; charset=UTF-8")
            request.onreadystatechange = (event) => {
                if (request.status == 200) {
                    let answer = JSON.parse(request.response).answer
                    document.querySelector("#answer").innerHTML = answer
                } else {
                    document.querySelector("#answer").innerHTML = "(an error occurred, please try again)"
                }
            }
            request.send(JSON.stringify({prompt: input}))
            document.querySelector("#answer").innerHTML = "(loading)"
            }
    </script>
</html>